## KEYBINDS
set -g prefix C-a

bind a send-prefix
unbind C-b
set -g status-keys vi
setw -g mode-keys vi

unbind l
unbind s
unbind w
unbind v

bind F12 source-file $HOME/.tmux.conf

bind m choose-window
bind b set status

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind C-h resize-pane -L 10
bind C-j resize-pane -D 10
bind C-k resize-pane -U 10
bind C-l resize-pane -R 10

bind -n C-left swap-window -t -1
bind -n C-right swap-window -t +1

bind v split-window -h
bind s split-window

## MISC
set -g default-command /bin/zsh
set -g default-shell /bin/zsh
set -g default-terminal "screen-256color"
set -g set-titles on
set -g set-remain-on-exit off

set-window-option -g automatic-rename on

## STATUS & MESSAGE
set -g message-attr bold
set -g message-fg white
set -g message-bg black

set -g status-justify right
set -g status-bg colour233
set -g status-fg white
set -g status-interval 5

setw -g window-status-current-fg red
setw -g window-status-current-attr none
setw -g window-status-format '#[fg=white]#W#F'
setw -g window-status-current-format '#[fg=red] #W#F '

set -g status-left '#[fg=magenta] tmux#[fg=yellow]#H #[fg=white,bold]:: #[fg=cyan]#T'
set -g status-left-length 40
set -g status-left-fg black

set -g status-right '#[fg=cyan,bold]| %l:%M'

# --- colors (solarized dark)                                      
set -g status-bg black                                             
set -g status-fg yellow                                            
set -g status-attr default                                         
                                                                   
# default window title colors                                      
setw -g window-status-fg brightblue                                
setw -g window-status-bg default                                   
                                                                   
# active window title colors                                       
setw -g window-status-current-fg yellow                            
setw -g window-status-current-bg default                           
setw -g window-status-current-attr dim                             
                                                                   
# pane border                                                      
set-option -g pane-border-fg colour235
set-option -g pane-border-bg black
set-option -g pane-active-border-fg colour166
set-option -g pane-active-border-bg yellow
                                                                   
# command line/message text                                        
set -g message-bg black                                            
set -g message-fg yellow                                           
                                                                   
# pane number display                                              
set -g display-panes-active-colour yellow                          
set -g display-panes-colour brightblue                             
                                                                   
# clock                                                            
setw -g clock-mode-colour yellow                                   
# --- end colors
#

setw -g mode-keys vi
setw -g mouse on

unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

set-option -g default-shell /bin/zsh
set-option -g default-command /bin/zsh

bind S source-file ~/.tmux/ses1

# copy & paste between tmux and x clipboard
#

bind-key | resize-pane -Z \; display-message "Zoom zoom zoom"

bind < run "xsel -o | tmux load-buffer - ; tmux paste-buffer "
#bind > run "( tmux show-buffer | xsel -b -i ) && tmux display-message \"ok!\""
bind > run "( xsel -o  | xsel -b -i ) && tmux display-message \"ok!\""


# move x clipboard into tmux paste buffer
bind C-p run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer"
# # move tmux copy buffer into x clipboard
bind C-y run "tmux save-buffer - | xclip -i"
# rorce a reload of the config file
#
unbind r
bind r source-file ~/.tmux.conf
#
# # quick pane cycling
#
unbind ^A
bind ^A select-pane -t :.+

set-option -gw xterm-keys on
bind-key C-Tab next-window
bind-key C-S-Tab previous-window

unbind r
bind r source-file ~/.tmux.conf

# start window numbering at 1
set -g base-index 1
#
# # start pane numbering at 1
set -g pane-base-index 1

#set -g @plugin 'tmux-plugins/tmux-logging'

set -g history-limit 50000

run-shell ~/tmux-logging/logging.tmux

bind b split-window "tmux lsw | percol --initial-index $(tmux lsw | awk '/active.$/ {print NR-1}') | cut -d':' -f 1 | tr -d '\n' | xargs -0 tmux select-window -t"
bind B split-window "tmux ls | percol --initial-index $(tmux ls | awk \"/^$(tmux display-message -p '#{session_name}'):/ {print NR-1}\") | cut -d':' -f 1 | tr -d '\n' | xargs -0 tmux switch-client -t"


set-option -g status on
set-option -g status-interval 2
set-option -g status-justify "centre"
set-option -g status-left-length 60
set-option -g status-right-length 90
set-option -g status-left "#(~/tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/tmux-powerline/powerline.sh right)"

set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"

bind C-[ run '~/tmux-powerline/mute_powerline.sh left'		# Mute left statusbar.
bind C-] run '~/tmux-powerline/mute_powerline.sh right'		# Mute right statusbar.


setw -g mouse on
setw -g mode-keys vi

set -g @save-complete-history-key 'M'

bind-key -n M-PPage copy-mode -eu

